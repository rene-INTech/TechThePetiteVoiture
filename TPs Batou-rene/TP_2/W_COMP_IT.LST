MACRO ASSEMBLER W_COMP_IT                                   11/15/19 16:51:53 PAGE     1


WIN32 MACRO ASSEMBLER MA51 V06.04.19OBJECT MODULE PLACED IN C:\TP\PHY4501\TP\TP_2\W_COMP_IT.OBJ
ASSEMBLER INVOKED BY: MA51.EXE C:\TP\PHY4501\TP\TP_2\W_COMP_IT.A51 OJ(C:\TP\PHY4501\TP\TP_2\W_COMP_IT.OBJ) PIN(C:\RIDE\INC;C:\RIDE\INC\51) PIN(C:\RIDE\INC\51\) EP LINES SYNTAX(ASM51) MOD51 PR(C:\TP\PHY4501\TP\TP_2\W_COMP_IT.LST) XR DB PW(80) RB(0) 

LOC     OBJ           LINE    SOURCE
                         1     ;created by Remi Lamiaux and Baptiste Ghirardi 
                         2     ;15/11/2019
                         3     ;version 1
                         4     
  007F                   5     W1_L			DATA		7FH
  007E                   6     W1_H			DATA		7EH
  007D                   7     W2_L			DATA		7DH
  007C                   8     W2_H			DATA		7CH
  00B7                   9     INF			BIT		P3.7
  00B6                  10     SUP			BIT		P3.6
  00D5                  11     RES_RT		BIT		F0
  0090                  12     W_IN			DATA		P1
  0003                  13     MASQUE		EQU		00000011B
                        14     
                        15     
                        16     
  0000                  17     				ORG		0000H
0000    802E            18     				SJMP		DEBUT
                        19     				
  0003                  20     				ORG		0003H
0003    020049          21     				LJMP		INTECH
                        22     				
  0030                  23     				ORG		0030H
                        24     				
                        25     DEBUT: 
0030    758801          26     				MOV		TCON,#00000001B
0033    75A881          27     				MOV		IE,#10000001B
                        28     		
0036    80FE            29     FIN: 			SJMP		FIN
                        30     
                        31     
                        32     ;Compare 2 nombres
                        33     ;Paramètres: Adresses des octets de poids fort des nombres a comparer dans R0 et R1
                        34     ;Retourne: 1 si ((R0))<((R1)) et 0 sinon, dans F0
                        35     COMP: 
0038    C0E0            36     				PUSH		ACC
003A    E6              37     				MOV		A,@R0
003B    C3              38     				CLR 		C
003C    97              39     				SUBB		A,@R1
003D    7005            40     SI: 			JNZ		FINSI
003F    08              41     				INC		R0
0040    09              42     				INC		R1
0041    E6              43                 MOV		A,@R0
0042    C3              44                 CLR		C
0043    97              45                 SUBB		A,@R1
0044    92D5            46     FINSI: 		MOV		RES_RT,C
0046    D0E0            47     FINCOMP: 		POP		ACC
0048    22              48     				RET
                        49     				
                        50     INTECH: 
0049    85907D          51     				MOV		W2_L,W_IN
004C    E590            52     				MOV		A,W_IN
004E    03              53     				RR			A
004F    03              54     				RR			A
0050    F57C            55     				MOV		W2_H,A
0052    03              56     				RR			A
0053    03              57     				RR			A
0054    F57F            58     				MOV		W1_L,A
0056    03              59     				RR			A
0057    03              60     				RR			A
0058    F57E            61     				MOV		W1_H,A
                        62     								
005A    537D03          63     ANL W2_L , # 3 
005D    537C03          64     ANL W2_H , # 3 
0060    537F03          65     ANL W1_L , # 3 
0063    537E03          66     ANL W1_H , # 3 
                        67     				;Comparaison
0066    787E            68     				MOV		R0,#W1_H
0068    797C            69                 MOV		R1,#W2_H
006A    120038          70     				LCALL		COMP
006D    A2D5            71     				MOV		C,RES_RT
006F    92B7            72     				MOV		INF,C
0071    B3              73     				CPL		C
0072    92B6            74     				MOV		SUP,C
                        75     				
0074    32              76     FIN_INTECH: 	RETI
                        77     
                        78     				END  
MACRO ASSEMBLER W_COMP_IT                                   11/15/19 16:51:53 PAGE     0


SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES             REFERENCES

P1 . . . . . . . .  D ADDR   0090H   A                          12 
P3 . . . . . . . .  D ADDR   00B0H   A                          9 10 
ACC. . . . . . . .  D ADDR   00E0H   A                          36 47 
FINCOMP. . . . . .  C ADDR   0046H   A                          47# 
MASQUE . . . . . .  N NUMB   0003h                              13# 63 64 65 66 
W_IN . . . . . . .  D ADDR   0090H   A                          12# 51 52 
IE . . . . . . . .  D ADDR   00A8H   A                          27 
COMP . . . . . . .  C ADDR   0038H   A                          35# 70 
RES_RT . . . . . .  B ADDR   00D0H.5 A                          11# 46 71 
W1_H . . . . . . .  D ADDR   007EH   A                          6# 61 66 68 
W2_H . . . . . . .  D ADDR   007CH   A                          8# 55 64 69 
W1_L . . . . . . .  D ADDR   007FH   A                          5# 58 65 
DEBUT. . . . . . .  C ADDR   0030H   A                          18 25# 
W2_L . . . . . . .  D ADDR   007DH   A                          7# 51 63 
TCON . . . . . . .  D ADDR   0088H   A                          26 
F0 . . . . . . . .  B ADDR   00D0H.5 A                          11 
FIN_INTECH . . . .  C ADDR   0074H   A                          76# 
SUP. . . . . . . .  B ADDR   00B0H.6 A                          10# 74 
FINSI. . . . . . .  C ADDR   0044H   A                          40 46# 
INTECH . . . . . .  C ADDR   0049H   A                          21 50# 
SI . . . . . . . .  C ADDR   003DH   A                          40# 
FIN. . . . . . . .  C ADDR   0036H   A                          29# 
INF. . . . . . . .  B ADDR   00B0H.7 A                          9# 72 



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     74    ----
   XDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


REGISTER BANK(S) USED : 0 

ASSEMBLY COMPLETE.   0 WARNING(S)   0 ERROR(S)
